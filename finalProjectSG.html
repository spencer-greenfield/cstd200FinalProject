<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      #scrolly {
        position: relative;
        padding: 1rem;
      }

      .scrolly-overlay {
        position: relative;
        padding: 0;
        max-width: 35rem;
        margin: 0 auto;
      }

      .sticky-thing {
        position: -webkit-sticky;
        position: sticky;
        left: 0;
        width: 100%;
        margin: 0;
        z-index: 0;
        top: 0;
        height: 100vh;
        /* Center everything inside */
        display: flex;
        justify-content: center;
        flex-direction: column;
        justify-content: center;
      }

      .step {
        margin: 0 auto 2rem auto;
        margin-bottom: 25rem;
        background-color: #eee;
        background-color: #fff;
        color: black;
      }

      .step p {
        text-align: center;
        padding: 1rem;
        font-size: 1.25rem;
        border: black;
      }

      /* .hidden { visibility: hidden; } */

      /* When it's less than 700 pixels wide, do normal scrollytelling */
      @media only screen and (min-width: 700px) {
        #scrolly.side-by-side {
          display: flex;
        }

        #scrolly.side-by-side > div {
          flex-basis: 0;
          flex-grow: 1;
          flex-shrink: 1;
          padding: 0.75em;
        }

        #scrolly.side-by-side .scrolly-overlay {
          margin-top: 70vh;
          order: 0;
          /* Change these to adjust sizing options */
          min-width: 15rem;
          max-width: 20rem;
        }

        #scrolly.side-by-side .sticky-thing {
          order: 1;
          flex-grow: 2;
        }
      }
    </style>
	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.0.4/scrollama.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>
	
  </head>

  <body>
	<h1>An ai2html template for scrollytelling with scrollama</h1>
      <section id="scrolly">
        <div class="sticky-thing">
          <div class="ai2html-container">

<!-- ai2html goes below this line -->


<!-- Generated by ai2html v0.113.0 - 2024-05-07 07:17 -->
<!-- ai file: actualMapsFinalSG.ai -->
<style media="screen,print">
	#g-actualMapsFinalSG-box ,
	#g-actualMapsFinalSG-box .g-artboard {
		margin:0 auto;
	}
	#g-actualMapsFinalSG-box p {
		margin:0;
	}
	#g-actualMapsFinalSG-box .g-aiAbs {
		position:absolute;
	}
	#g-actualMapsFinalSG-box .g-aiImg {
		position:absolute;
		top:0;
		display:block;
		width:100% !important;
	}
	#g-actualMapsFinalSG-box .g-aiSymbol {
		position: absolute;
		box-sizing: border-box;
	}
	#g-actualMapsFinalSG-box .g-aiPointText p { white-space: nowrap; }
	#g-actualMapsFinalSG-Artboard_1 {
		position:relative;
		overflow:hidden;
	}
	#g-actualMapsFinalSG-Artboard_1 p {
		font-weight:500;
		line-height:72px;
		height:auto;
		opacity:1;
		letter-spacing:0em;
		font-size:60px;
		text-align:left;
		color:rgb(255,255,255);
		text-transform:none;
		padding-bottom:0;
		padding-top:0;
		mix-blend-mode:normal;
		font-style:normal;
		position:static;
	}
	#g-actualMapsFinalSG-Artboard_1 .g-pstyle0 {
		height:72px;
		text-align:center;
	}
	#g-actualMapsFinalSG-Artboard_1 .g-pstyle1 {
		font-family:arial,helvetica,sans-serif;
		line-height:12px;
		height:12px;
		font-size:10px;
		color:rgb(51,51,51);
	}
	#g-actualMapsFinalSG-Artboard_1 .g-pstyle2 {
		font-family:arial,helvetica,sans-serif;
		line-height:13px;
		height:13px;
		font-size:11px;
		color:rgb(0,0,0);
	}
	#g-actualMapsFinalSG-Artboard_1 .g-pstyle3 {
		font-family:arial,helvetica,sans-serif;
		line-height:13px;
		height:13px;
		font-size:11px;
		color:rgb(136,136,136);
	}

</style>

<div id="g-actualMapsFinalSG-box" class="ai2html">

	<!-- Artboard: Artboard_1 -->
	<div id="g-actualMapsFinalSG-Artboard_1" class="g-artboard" style="max-width: 1200px;max-height: 1232px" data-aspect-ratio="0.974" data-min-width="0">
<div style="padding: 0 0 102.6667% 0;"></div>
		<img id="g-actualMapsFinalSG-Artboard_1-img" class="g-actualMapsFinalSG-Artboard_1-img g-aiImg" alt="" src="actualMapsFinalSG-Artboard_1.jpg"/>
<!-- Generator: Adobe Illustrator 28.2.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg class="g-actualMapsFinalSG-Artboard_1-interactions-img g-aiImg" version="1.2" baseProfile="tiny" id="g-actualMapsFinalSG-Artboard_1-interactions-img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 x="0px" y="0px" viewBox="0 0 1200 1232" overflow="visible" xml:space="preserve">
<g>
	<rect y="92" fill="#282828" width="1200" height="1232"/>
	<path id="beinecke" data-name="beinecke" fill="#B6FF9A" fill-opacity="1" d="M878.64,610.958
		l17.673,9.66l1.122,5.793l-7.414,12.275l-20.007-10.658L878.64,610.958z"/>
	
		
	
		<ellipse id="yaleIntersection" data-name="yaleIntersection" transform="matrix(0.866 -0.5 0.5 0.866 -177.0282 550.2927)" fill="#006802" cx="938.346" cy="605.485" rx="12.5" ry="16.342"/>
	
		<rect id="occupyYale" data-name="occupyYale" x="807.232" y="665.816" transform="matrix(0.8955 0.4451 -0.4451 0.8955 388.8855 -294.3272)" fill="#006802" width="27.728" height="29.995"/>
	
	
	<path fill-rule="evenodd" fill="#006802" stroke="#006802" stroke-miterlimit="10" d="M849.889,735.745l-8.963-5.704L746,621.671
		l23.222-27.704l28.111-38.296l17.111-30.556L966,610.263l-38.704,25.259l-45.222,48.482l-18.333,28.926L849.889,735.745z"/>
	<path fill="#006802" stroke="#006802" stroke-miterlimit="10" d="M804.259,591.93l64.181,0.17"/>
</g>
<style>
#g-actualMapsFinalSG-Artboard_1-interactions-img rect, #g-actualMapsFinalSG-Artboard_1-interactions-img circle, #g-actualMapsFinalSG-Artboard_1-interactions-img path, #g-actualMapsFinalSG-Artboard_1-interactions-img line, #g-actualMapsFinalSG-Artboard_1-interactions-img polyline, #g-actualMapsFinalSG-Artboard_1-interactions-img polygon { vector-effect: non-scaling-stroke; }
</style>
</svg>

		<div id="g-ai0-1" class="g-interactions g-aiAbs g-aiPointText" style="top:54.2138%;margin-top:-212.9px;left:51.8133%;margin-left:-422px;width:844px;">
			<p class="g-pstyle0">This story is a desperate, flawed</p>
			<p class="g-pstyle0">attempt by one Yale student</p>
			<p class="g-pstyle0">to get his classmates to care</p>
			<p class="g-pstyle0">about a genocide.</p>
		</div>
		<div id="g-ai0-2" class="g-Furniture g-aiAbs g-aiPointText" style="top:71.5028%;margin-top:-6.9px;left:50.7869%;width:50px;">
			<p class="g-pstyle1">100 m</p>
		</div>
		<div id="g-ai0-3" class="g-Furniture g-aiAbs g-aiPointText" style="top:73.6612%;margin-top:-7.5px;left:86.5368%;width:30px;">
			<p class="g-pstyle2">&copy;</p>
		</div>
		<div id="g-ai0-4" class="g-Furniture g-aiAbs g-aiPointText" style="top:73.6612%;margin-top:-7.5px;left:87.4401%;width:100px;">
			<p class="g-pstyle2">OpenStreetMap</p>
		</div>
		<div id="g-ai0-5" class="g-Furniture g-aiAbs g-aiPointText" style="top:73.6612%;margin-top:-7.5px;left:94.1392%;width:79px;">
			<p class="g-pstyle2">contributors</p>
		</div>
		<div id="g-ai0-6" class="g-Furniture g-aiAbs g-aiPointText" style="top:76.3398%;margin-top:-7.5px;left:49.2868%;width:84px;">
			<p class="g-pstyle3">Created with</p>
		</div>
		<div id="g-ai0-7" class="g-Furniture g-aiAbs g-aiPointText" style="top:76.3398%;margin-top:-7.5px;left:54.6606%;width:85px;">
			<p class="g-pstyle2">Datawrapper</p>
		</div>
	</div>

</div>

<!-- End ai2html - 2024-05-07 07:17 -->















<!-- ai2html goes above this line -->

          </div>
        </div>

        <div class="scrolly-overlay">
          <div class="step" id="step-zero">
            <p>STEP ZERO<br><br>Welcome to New Haven.</p>
          </div>
          <div class="step" id="step-one">
            <p>STEP ONE<br><br>A city where Yale University takes up a LOT of buildings. <br> <br> * yaleBuildings > visible *</p>
          </div>
          <div class="step" id="step-two">
            <p>STEP TWO<br><br>They make up the loose frame of what I might call the "Yale Bubble" <br> <br> * bubblePolygon  > visible *</p>
          </div>
          <div class="step" id="step-three">
            <p>STEP THREE<br><br>What a journey! Let's set everything back to normal.</p>
          </div>
        </div>
      </section>

    <script>
      
    /* Scrollytelling code goes under here */

      //   Entering Step Zero
      d3.select("#step-zero").on('stepin',function(e) {
        console.log("We've arrived at STEP ZERO")
        // d3.select("#step-zero").style('background-color', 'aqua')
      })

    </script>

<script>
    const scroller = scrollama();

	scroller
		.setup({
			step: "#scrolly .scrolly-overlay .step",
			offset: 0.75,
			debug: false
		})
		.onStepEnter(function({ element, index, direction}) {
			const event = new CustomEvent('stepin', { detail: { direction: direction } })
			element.dispatchEvent(event);
		})
		.onStepExit(function({ element, index, direction }) {
			const event = new CustomEvent('stepout', { detail: { direction: direction } })
			element.dispatchEvent(event);
		});

	window.addEventListener("resize", scroller.resize);
    </script>


    <!-- ai2html resizer script -->

<script type="text/javascript">
  (function() {
      // only want one resizer on the page
      if (document.documentElement.className.indexOf("g-resizer-v3-init") > -1) return;
      document.documentElement.className += " g-resizer-v3-init";
      // require IE9+
      if (!("querySelector" in document)) return;
      function resizer() {
          var elements = Array.prototype.slice.call(document.querySelectorAll(".g-artboard[data-min-width]")),
              widthById = {};
          elements.forEach(function(el) {
              var parent = el.parentNode,
                  width = widthById[parent.id] || parent.getBoundingClientRect().width,
                  minwidth = el.getAttribute("data-min-width"),
                  maxwidth = el.getAttribute("data-max-width");
              widthById[parent.id] = width;

              if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {
                  el.style.display = "block";
              } else {
                  el.style.display = "none";
              }
          });
          try {
              if (window.parent && window.parent.$) {
                  window.parent.$("body").trigger("resizedcontent", [window]);
              }
              if (window.require) {
                  require(['foundation/main'], function() {
                      require(['shared/interactive/instances/app-communicator'], function(AppCommunicator) {
                          AppCommunicator.triggerResize();
                      });
                  });
              }
          } catch(e) { console.log(e); }
      }

      document.addEventListener('DOMContentLoaded', resizer);
      // feel free to replace throttle with _.throttle, if available
      window.addEventListener('resize', throttle(resizer, 200));        

      function throttle(func, wait) {
          // from underscore.js
          var _now = Date.now || function() { return new Date().getTime(); },
              context, args, result, timeout = null, previous = 0;
          var later = function() {
              previous = _now();
              timeout = null;
              result = func.apply(context, args);
              if (!timeout) context = args = null;
          };
          return function() {
              var now = _now(), remaining = wait - (now - previous);
              context = this;
              args = arguments;
              if (remaining <= 0 || remaining > wait) {
                  if (timeout) {
                      clearTimeout(timeout);
                      timeout = null;
                  }
                  previous = now;
                  result = func.apply(context, args);
                  if (!timeout) context = args = null;
              } else if (!timeout && options.trailing !== false) {
                  timeout = setTimeout(later, remaining);
              }
              return result;
          };
      }

     
  })();
</script>

  </body>
</html>
